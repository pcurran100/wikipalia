<!DOCTYPE html>
<html>
<head>
    <title>Wikipalia Dashboard</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../styles.css">
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="flex justify-between items-center">
                <h1 class="text-3xl font-bold text-gray-900">Wikipalia Dashboard</h1>
                <div class="flex items-center space-x-4">
                    <span id="userEmail" class="text-gray-600"></span>
                    <button id="signOutBtn" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors">
                        Sign Out
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Filter Section -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 bg-white shadow mt-4 rounded-lg">
        <div class="flex flex-wrap items-center space-x-4">
            <h2 class="text-lg font-medium text-gray-700 mr-2">Filter by Date:</h2>
            <div class="flex space-x-2">
                <button id="filterToday" class="filter-btn bg-blue-100 text-blue-800 hover:bg-blue-200 px-3 py-1 rounded-md">Today</button>
                <button id="filterWeek" class="filter-btn bg-gray-100 text-gray-800 hover:bg-gray-200 px-3 py-1 rounded-md">This Week</button>
                <button id="filterMonth" class="filter-btn bg-gray-100 text-gray-800 hover:bg-gray-200 px-3 py-1 rounded-md">This Month</button>
                <button id="filterYear" class="filter-btn bg-gray-100 text-gray-800 hover:bg-gray-200 px-3 py-1 rounded-md">This Year</button>
                <button id="filterAllTime" class="filter-btn bg-gray-100 text-gray-800 hover:bg-gray-200 px-3 py-1 rounded-md">All Time</button>
            </div>
            <div class="ml-auto custom-date-range flex items-center space-x-2">
                <label for="dateFrom" class="text-sm text-gray-600">From:</label>
                <input type="date" id="dateFrom" class="border rounded-md px-2 py-1">
                <label for="dateTo" class="text-sm text-gray-600">To:</label>
                <input type="date" id="dateTo" class="border rounded-md px-2 py-1">
                <button id="filterCustom" class="bg-green-500 text-white px-3 py-1 rounded-md hover:bg-green-600">Apply</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Stats Summary -->
        <div class="bg-white rounded-lg shadow p-6 mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Your Stats</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-blue-800 mb-2">Articles Opened</h3>
                    <p id="totalArticles" class="text-3xl font-bold text-blue-900">0</p>
                </div>
                <div class="bg-indigo-50 p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-indigo-800 mb-2">Articles Read</h3>
                    <p id="readArticles" class="text-3xl font-bold text-indigo-900">0</p>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-green-800 mb-2">Time Spent</h3>
                    <p id="totalTime" class="text-3xl font-bold text-green-900">0h 0m 0s</p>
                </div>
                <div class="bg-yellow-50 p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-yellow-800 mb-2">Avg. Time per Article</h3>
                    <p id="avgTimePerArticle" class="text-3xl font-bold text-yellow-900">0m 0s</p>
                </div>
            </div>
        </div>

        <!-- Favorites Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Favorite Categories -->
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Favorite Categories</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Articles</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Time Spent</th>
                            </tr>
                        </thead>
                        <tbody id="favoriteCategories" class="bg-white divide-y divide-gray-200">
                            <!-- Categories will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Activity Chart -->
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Activity Over Time</h2>
                <canvas id="activityChart" class="w-full"></canvas>
            </div>
        </div>

        <!-- Most Visited and Longest Visited Pages -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Most Visited Pages -->
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Most Visited Pages</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Visits</th>
                            </tr>
                        </thead>
                        <tbody id="mostVisitedPages" class="bg-white divide-y divide-gray-200">
                            <!-- Pages will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Longest Visited Pages -->
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Longest Visited Pages</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total Time</th>
                            </tr>
                        </thead>
                        <tbody id="longestVisitedPages" class="bg-white divide-y divide-gray-200">
                            <!-- Pages will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Pages with Most Clicked Links -->
        <div class="bg-white rounded-lg shadow p-6 mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Pages with Most Clicked Links</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Clicked Links</th>
                        </tr>
                    </thead>
                    <tbody id="mostClickedLinksPages" class="bg-white divide-y divide-gray-200">
                        <!-- Pages will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Article History -->
        <div class="bg-white rounded-lg shadow p-6 mt-8">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-semibold text-gray-800">Article History</h2>
                <div class="flex items-center">
                    <input type="text" id="articleSearch" placeholder="Search articles..." class="border rounded-md px-3 py-1 mr-2">
                    <select id="articleSortBy" class="border rounded-md px-3 py-1">
                        <option value="date-desc">Date (Newest)</option>
                        <option value="date-asc">Date (Oldest)</option>
                        <option value="title-asc">Title (A-Z)</option>
                        <option value="title-desc">Title (Z-A)</option>
                        <option value="time-desc">Time (Longest)</option>
                        <option value="time-asc">Time (Shortest)</option>
                    </select>
                </div>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" data-sort="title">Title</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" data-sort="date">Date</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer" data-sort="time">Time Spent</th>
                        </tr>
                    </thead>
                    <tbody id="articleHistory" class="bg-white divide-y divide-gray-200">
                        <!-- Articles will be populated here -->
                    </tbody>
                </table>
                
                <!-- Pagination -->
                <div class="flex justify-between items-center mt-4">
                    <div class="text-sm text-gray-700">
                        Showing <span id="showingStart">1</span> to <span id="showingEnd">10</span> of <span id="totalResults">0</span> results
                    </div>
                    <div class="flex space-x-2">
                        <button id="prevPage" class="border rounded-md px-3 py-1 text-gray-500 hover:bg-gray-100 disabled:opacity-50">Previous</button>
                        <button id="nextPage" class="border rounded-md px-3 py-1 text-gray-500 hover:bg-gray-100 disabled:opacity-50">Next</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script type="module" src="dashboard.js"></script>
</body>
</html> 